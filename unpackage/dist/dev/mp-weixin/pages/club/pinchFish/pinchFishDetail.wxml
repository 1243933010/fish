<view class="data-v-290e9366"><view class="top_hr data-v-290e9366"></view><view style="position:fixed;top:0;width:100%;" class="data-v-290e9366"><headers vue-id="0e774b40-1" title="活动详情" leftIcon="{{true}}" rightText="{{rightText}}" data-event-opts="{{[['^rightClick',[['rightClick']]]]}}" bind:rightClick="__e" class="data-v-290e9366" bind:__l="__l"></headers></view><view class="detail data-v-290e9366"><view class="top data-v-290e9366"><text class="data-v-290e9366">{{Obj.activity_name}}</text><view class="data-v-290e9366"><text class="data-v-290e9366">状态:<block wx:if="{{Obj.status==='1'}}"><text class="data-v-290e9366">待发布</text></block><block wx:if="{{Obj.status==='2'}}"><text class="data-v-290e9366">已发布</text></block><block wx:if="{{Obj.status==='3'}}"><text class="data-v-290e9366">比赛中</text></block><block wx:if="{{Obj.status==='4'}}"><text class="data-v-290e9366">结束中</text></block><block wx:if="{{Obj.status==='5'}}"><text class="data-v-290e9366">赛事完成</text></block><block wx:if="{{Obj.status==='6'}}"><text class="data-v-290e9366">异常</text></block></text></view></view><view class="content data-v-290e9366"><text class="data-v-290e9366"><text class="title data-v-290e9366">活动内容</text>{{":"+Obj.activity_intro}}</text></view><view class="time data-v-290e9366"><text class="data-v-290e9366"><text class="title data-v-290e9366">报名开始时间</text>{{':'+Obj.signup_starttime}}</text></view><view class="time data-v-290e9366"><text class="data-v-290e9366"><text class="title data-v-290e9366">报名结束时间</text>{{":"+Obj.signup_stoptime}}</text></view><view class="time data-v-290e9366"><text class="data-v-290e9366"><text class="title data-v-290e9366">比赛时间</text>{{":"+Obj.pt_starttime}}</text><view class="data-v-290e9366"><text class="data-v-290e9366"><text class="title data-v-290e9366">比赛类型</text>:<block wx:if="{{Obj.activity_type==='1'}}"><text class="data-v-290e9366">团体</text></block><block wx:if="{{Obj.activity_type==='2'}}"><text class="data-v-290e9366">掐鱼</text></block></text></view></view><view class="peoplel data-v-290e9366"><text class="data-v-290e9366"><text class="title data-v-290e9366">比赛人数</text>{{":"+Obj.pt_number+"人"}}</text><text class="data-v-290e9366"><text class="title data-v-290e9366">最低参赛人数</text>{{":"+Obj.lowpt_number+"人"}}</text></view><view class="time data-v-290e9366"><text class="data-v-290e9366"><text class="title data-v-290e9366">报名费用</text>{{":"+Obj.registery_fee}}</text><text class="data-v-290e9366"><text class="title data-v-290e9366">联系人电话</text>{{":"+Obj.phone_num}}</text></view><view class="fn data-v-290e9366"><block wx:if="{{Obj.is_join==='0'&&Obj.userid!==userinfo.user_id&&inFlog}}"><view class="data-v-290e9366"><text data-event-opts="{{[['tap',[['Enter',['$0'],['Obj']]]]]}}" bindtap="__e" class="data-v-290e9366">参与</text></view></block><block wx:if="{{Obj.status==='4'&&userinfo.user_id===Obj.userid}}"><view class="data-v-290e9366"><text data-event-opts="{{[['tap',[['updateRank',['$event']]]]]}}" bindtap="__e" class="data-v-290e9366">确认上传成绩</text></view></block><block wx:if="{{Obj.status==='1'&&userinfo.user_id===Obj.userid}}"><view data-event-opts="{{[['tap',[['edit',['$0'],['Obj']]]]]}}" catchtap="__e" class="data-v-290e9366"><text class="data-v-290e9366">编辑</text></view></block><block wx:if="{{(Obj.status==='1'||Obj.status==='2'||Obj.status==='3')&&userinfo.user_id===Obj.userid}}"><view data-event-opts="{{[['tap',[['updateFish',['$0'],['Obj']]]]]}}" catchtap="__e" class="data-v-290e9366"><text class="data-v-290e9366">更新状态</text></view></block><block wx:if="{{Obj.status==='1'&&userinfo.user_id===Obj.userid}}"><view data-event-opts="{{[['tap',[['Delete',['$0'],['Obj']]]]]}}" catchtap="__e" class="data-v-290e9366"><text class="data-v-290e9366">删除活动</text></view></block></view></view><view class="people data-v-290e9366"><text class="title data-v-290e9366">已参与人数</text><block wx:for="{{Obj.userlist}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="item data-v-290e9366"><view class="user data-v-290e9366"><image src="{{item.avatar}}" mode class="data-v-290e9366"></image><text style="margin-right:20rpx;" class="data-v-290e9366">{{item.username}}</text><text class="data-v-290e9366">{{item.userphone}}</text></view><block wx:if="{{Obj.userid===userinfo.id&&Obj.status==='4'}}"><view data-event-opts="{{[['tap',[['enterRank',['$0'],[[['Obj.userlist','',index]]]]]]]}}" bindtap="__e" class="data-v-290e9366"><text class="data-v-290e9366">输入成绩</text></view></block></view></block></view><uni-popup vue-id="0e774b40-2" type="center" data-ref="rank" class="data-v-290e9366 vue-ref" bind:__l="__l" vue-slots="{{['default']}}"><view class="box data-v-290e9366"><view class="inp data-v-290e9366"><text class="data-v-290e9366">输入成绩</text><input type="text" value="{{rankNum}}" data-event-opts="{{[['input',[['__set_model',['','rankNum','$event',[]]]]]]}}" bindinput="__e" class="data-v-290e9366"/></view><view data-event-opts="{{[['tap',[['rankBtn',['$event']]]]]}}" class="btn data-v-290e9366" bindtap="__e"><text class="data-v-290e9366">确定</text></view></view></uni-popup><uni-popup vue-id="0e774b40-3" type="center" data-ref="participate" class="data-v-290e9366 vue-ref" bind:__l="__l" vue-slots="{{['default']}}"><view class="box data-v-290e9366"><view class="inp data-v-290e9366"><input type="text" placeholder="请输入姓名" data-event-opts="{{[['input',[['__set_model',['','userName','$event',[]]]]]]}}" value="{{userName}}" bindinput="__e" class="data-v-290e9366"/></view><view class="inp data-v-290e9366"><input type="text" placeholder="请输入手机号" data-event-opts="{{[['input',[['__set_model',['','userPhone','$event',[]]]]]]}}" value="{{userPhone}}" bindinput="__e" class="data-v-290e9366"/></view><block wx:if="{{Obj.activity_type==='2'&&Obj.ispwd==='1'}}"><view class="inp data-v-290e9366"><input type="text" placeholder="请输入密码" data-event-opts="{{[['input',[['__set_model',['','pwd','$event',[]]]]]]}}" value="{{pwd}}" bindinput="__e" class="data-v-290e9366"/></view></block><view class="btn data-v-290e9366"><text data-event-opts="{{[['tap',[['btn',['$event']]]]]}}" bindtap="__e" class="data-v-290e9366">确定</text></view></view></uni-popup><uni-popup vue-id="0e774b40-4" type="center" data-ref="popup" class="data-v-290e9366 vue-ref" bind:__l="__l" vue-slots="{{['default']}}"><view class="popup data-v-290e9366"><scroll-view style="height:900rpx;" scroll-y="true" class="data-v-290e9366"><view class="form data-v-290e9366"><view class="inp data-v-290e9366"><text class="data-v-290e9366">活动标题</text><input type="text" value="{{val.activity_name}}" data-event-opts="{{[['input',[['__set_model',['$0','activity_name','$event',[]],['val']]]]]}}" bindinput="__e" class="data-v-290e9366"/></view><view class="inp data-v-290e9366"><text class="data-v-290e9366">活动内容</text><input type="text" value="{{val.activity_intro}}" data-event-opts="{{[['input',[['__set_model',['$0','activity_intro','$event',[]],['val']]]]]}}" bindinput="__e" class="data-v-290e9366"/></view><view data-event-opts="{{[['tap',[['start',['$event']]]]]}}" class="inp data-v-290e9366" bindtap="__e"><text class="data-v-290e9366">报名开始时间</text><input type="text" disabled="{{true}}" data-event-opts="{{[['input',[['__set_model',['$0','signup_starttime','$event',[]],['val']]]]]}}" value="{{val.signup_starttime}}" bindinput="__e" class="data-v-290e9366"/></view><view data-event-opts="{{[['tap',[['end',['$event']]]]]}}" class="inp data-v-290e9366" bindtap="__e"><text class="data-v-290e9366">报名结束时间</text><input type="text" disabled="{{true}}" data-event-opts="{{[['input',[['__set_model',['$0','signup_stoptime','$event',[]],['val']]]]]}}" value="{{val.signup_stoptime}}" bindinput="__e" class="data-v-290e9366"/></view><view data-event-opts="{{[['tap',[['fishing',['$event']]]]]}}" class="inp data-v-290e9366" bindtap="__e"><text class="data-v-290e9366">比赛开始时间</text><input type="text" disabled="{{true}}" data-event-opts="{{[['input',[['__set_model',['$0','pt_starttime','$event',[]],['val']]]]]}}" value="{{val.pt_starttime}}" bindinput="__e" class="data-v-290e9366"/></view><view data-event-opts="{{[['tap',[['fishingEnd',['$event']]]]]}}" class="inp data-v-290e9366" bindtap="__e"><text class="data-v-290e9366">比赛结束时间</text><input type="text" disabled="{{true}}" data-event-opts="{{[['input',[['__set_model',['$0','pt_stoptime','$event',[]],['val']]]]]}}" value="{{val.pt_stoptime}}" bindinput="__e" class="data-v-290e9366"/></view><view class="inp data-v-290e9366"><text class="data-v-290e9366">比赛人数</text><input type="number" value="{{val.pt_number}}" data-event-opts="{{[['input',[['__set_model',['$0','pt_number','$event',[]],['val']]]]]}}" bindinput="__e" class="data-v-290e9366"/></view><view class="inp data-v-290e9366"><text class="data-v-290e9366">最低参赛人数</text><input type="number" value="{{val.lowpt_number}}" data-event-opts="{{[['input',[['__set_model',['$0','lowpt_number','$event',[]],['val']]]]]}}" bindinput="__e" class="data-v-290e9366"/></view><view class="inp data-v-290e9366"><text class="data-v-290e9366">报名费用</text><input type="number" value="{{val.registery_fee}}" data-event-opts="{{[['input',[['__set_model',['$0','registery_fee','$event',[]],['val']]]]]}}" bindinput="__e" class="data-v-290e9366"/></view><view class="inp data-v-290e9366"><text class="data-v-290e9366">联系人电话</text><input type="number" value="{{val.phone_num}}" data-event-opts="{{[['input',[['__set_model',['$0','phone_num','$event',[]],['val']]]]]}}" bindinput="__e" class="data-v-290e9366"/></view><view class="switch data-v-290e9366"><text class="data-v-290e9366">是否立刻发布</text><switch checked="{{status}}" data-event-opts="{{[['change',[['Switch',['$event']]]]]}}" bindchange="__e" class="data-v-290e9366"></switch></view><view class="inp data-v-290e9366"><text class="data-v-290e9366">比赛授权密码</text><input type="number" value="{{val.room_pwd}}" data-event-opts="{{[['input',[['__set_model',['$0','room_pwd','$event',[]],['val']]]]]}}" bindinput="__e" class="data-v-290e9366"/></view><view data-event-opts="{{[['tap',[['submit',['$event']]]]]}}" class="btn data-v-290e9366" bindtap="__e"><text class="data-v-290e9366">确定发起</text></view></view></scroll-view></view></uni-popup><w-picker vue-id="0e774b40-5" visible="{{startVisible}}" mode="date" startYear="2017" endYear="2029" value="2020-04-08 16:45:45" current="{{false}}" fields="second" disabled-after="{{false}}" data-ref="date1" data-event-opts="{{[['^updateVisible',[['__set_sync',['$0','startVisible','$event'],['']]]],['^confirm',[['startConfirm',['$event','date1']]]]]}}" bind:updateVisible="__e" bind:confirm="__e" class="data-v-290e9366 vue-ref" bind:__l="__l"></w-picker><w-picker vue-id="0e774b40-6" visible="{{endVisible}}" mode="date" startYear="2017" endYear="2029" value="2020-04-08 16:45:45" current="{{false}}" fields="second" disabled-after="{{false}}" data-ref="date2" data-event-opts="{{[['^updateVisible',[['__set_sync',['$0','endVisible','$event'],['']]]],['^confirm',[['endConfirm',['$event','date2']]]]]}}" bind:updateVisible="__e" bind:confirm="__e" class="data-v-290e9366 vue-ref" bind:__l="__l"></w-picker><w-picker vue-id="0e774b40-7" visible="{{fishVisible}}" mode="date" startYear="2017" endYear="2029" value="2020-04-08 16:45:45" current="{{false}}" fields="second" disabled-after="{{false}}" data-ref="date3" data-event-opts="{{[['^updateVisible',[['__set_sync',['$0','fishVisible','$event'],['']]]],['^confirm',[['fishConfirm',['$event','date3']]]]]}}" bind:updateVisible="__e" bind:confirm="__e" class="data-v-290e9366 vue-ref" bind:__l="__l"></w-picker><w-picker vue-id="0e774b40-8" visible="{{fishEndVisible}}" mode="date" startYear="2017" endYear="2029" value="2020-04-08 16:45:45" current="{{false}}" fields="second" disabled-after="{{false}}" data-ref="date3" data-event-opts="{{[['^updateVisible',[['__set_sync',['$0','fishEndVisible','$event'],['']]]],['^confirm',[['fishEndConfirm',['$event','date4']]]]]}}" bind:updateVisible="__e" bind:confirm="__e" class="data-v-290e9366 vue-ref" bind:__l="__l"></w-picker><w-picker vue-id="0e774b40-9" visible="{{selectorVisible}}" mode="selector" value="已发布" default-type="name" default-props="{{defaultProps}}" options="{{selectorList}}" data-ref="selector" data-event-opts="{{[['^updateVisible',[['__set_sync',['$0','selectorVisible','$event'],['']]]],['^confirm',[['selectConfirm',['$event','selector']]]]]}}" bind:updateVisible="__e" bind:confirm="__e" class="data-v-290e9366 vue-ref" bind:__l="__l"></w-picker><w-picker vue-id="0e774b40-10" visible="{{payVisible}}" mode="selector" value="" default-type="name" default-props="{{defaultProps}}" options="{{payList}}" data-ref="selector" data-event-opts="{{[['^updateVisible',[['__set_sync',['$0','payVisible','$event'],['']]]],['^confirm',[['payConfirm',['$event','selector']]]],['^cancel',[['payCancel']]]]}}" bind:updateVisible="__e" bind:confirm="__e" bind:cancel="__e" class="data-v-290e9366 vue-ref" bind:__l="__l"></w-picker></view>